@import "tailwindcss";

:root {
  color-scheme: light dark;
  /* Fallback font variables; next/font will override via classes on <html> */
  --font-body: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Noto Sans, Ubuntu, Cantarell, Helvetica Neue, Arial, "Apple Color Emoji", "Segoe UI Emoji";
  --font-header: ui-serif, Georgia, Cambria, "Times New Roman", Times, serif;
  --font-button: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Noto Sans, Ubuntu, Cantarell, Helvetica Neue, Arial, "Apple Color Emoji", "Segoe UI Emoji";
}

body {
  /* Base typography colors and background driven by tokens */
  background-color: var(--brand-bg);
  color: var(--brand-fg);
  position: relative;
  font-family: var(--font-body), sans-serif;
  @apply antialiased transition-colors;
}

/* Ensure secondary surfaces default to white copy for readability */
[class*="brand-surface"] {
  color: var(--brand-surface-contrast) !important;
}

[class*="brand-surface"] * {
  color: var(--brand-surface-contrast) !important;
}

[class*="brand-surface"] a {
  color: var(--brand-surface-contrast) !important;
}

h1,
h2,
h3,
h4,
h5,
h6 {
  font-family: var(--font-header), serif;
}

button,
input[type="button"],
input[type="submit"],
input[type="reset"],
[role="button"] {
  font-family: var(--font-button), sans-serif;
}

/* Ensure header menus use standard font for any buttons/toggles */
header button,
header [role="button"] {
  font-family: var(--font-body), sans-serif;
}

body::before {
  content: "";
  position: fixed;
  inset: 0;
  background-image: var(--watermark-url);
  background-repeat: no-repeat;
  background-position: center;
  background-size: 50vmin;
  opacity: 0.05;
  pointer-events: none;
  z-index: -1;
}

a {
  @apply underline;
}

/* Header: do not underline links by default; keep hover underline for affordance */
header a {
  @apply no-underline hover:underline;
}

/* Header selection styling: use brand alt color when text is selected */
header ::selection {
  color: var(--brand-alt);
}

img {
  @apply dark:brightness-90 dark:contrast-125;
}



/* Brand color tokens for light and dark modes */
:root {
  /* Light mode defaults */
  --watermark-url: none;
  --brand-primary: #5C30A6; /* rich GPT purple */
  --brand-primary-contrast: #FFFFFF;
  --brand-accent: #D6AF36; /* warm gold highlight */
  --brand-ink: #121212; /* neutral contrast for light surfaces */
  --brand-alt: color-mix(in oklab, var(--brand-primary) 40%, var(--brand-accent) 60%);

  --brand-bg: #FFFFFF; /* default page surface */
  --brand-fg: var(--brand-accent);
  --brand-muted: color-mix(in oklab, var(--brand-accent) 45%, white 55%);
  --brand-border: var(--brand-accent);
  --brand-surface: var(--brand-primary);
  --brand-primary-muted: color-mix(in oklab, var(--brand-primary) 35%, white 65%);
  --brand-surface-contrast: #FFFFFF;
  --brand-overlay: color-mix(in oklab, var(--brand-primary) 60%, transparent);
  --brand-overlay-muted: color-mix(in oklab, var(--brand-primary) 35%, transparent);

  /* Layout and component variables (defaults) */
  --layout-max-width: 90vw;
  --header-height-px: 64px;

  /* Marquee defaults; may be overridden inline per measurement */
  --marquee-duration: 20s;
  --marquee-delay: 0s;
  --marquee-gap: 50px;
  --content-width: 0px;
  --container-width: 0px;
}

@media (prefers-color-scheme: dark) {
  :root {
    /* Dark mode overrides */
    --brand-primary: #B19CD9; /* lighter purple for dark for contrast */
    --brand-bg: color-mix(in oklab, #080211 85%, var(--brand-primary) 15%);
    --brand-surface: color-mix(in oklab, #120322 65%, var(--brand-primary) 35%);
    --brand-primary-muted: color-mix(in oklab, var(--brand-primary) 55%, white 45%);
    --brand-fg: var(--brand-accent);
    /* Make muted text distinct from main fg in dark mode */
    --brand-muted: color-mix(in oklab, var(--brand-accent) 60%, var(--brand-ink) 40%);
    --brand-border: var(--brand-accent);
    --brand-surface-contrast: #FFFFFF;
    --brand-alt: #FFFFFF;
    --brand-overlay: color-mix(in oklab, var(--brand-ink) 50%, transparent);
    --brand-overlay-muted: color-mix(in oklab, var(--brand-ink) 60%, transparent);
  }
}

[data-theme="dark"],
html[data-theme="dark"] {
  --brand-primary: #B19CD9;
  --brand-bg: color-mix(in oklab, var(--brand-primary) 18%, black);
  --brand-surface: color-mix(in oklab, var(--brand-primary) 26%, black);
  --brand-primary-muted: var(--brand-primary);
  --brand-fg: var(--brand-accent);
  --brand-muted: color-mix(in oklab, var(--brand-accent) 60%, var(--brand-ink) 40%);
  --brand-border: var(--brand-accent);
  --brand-surface-contrast: #FFFFFF;
  --brand-alt: #FFFFFF;
  --brand-overlay: color-mix(in oklab, var(--brand-ink) 50%, transparent);
  --brand-overlay-muted: color-mix(in oklab, var(--brand-ink) 60%, transparent);
}


/* Fallback for environments mis-parsing :root â€” define tokens on html as well */
html {
  --watermark-url: none;
  --brand-primary: #5C30A6;
  --brand-primary-contrast: #FFFFFF;
  --brand-accent: #D6AF36;
  --brand-ink: #121212;
  --brand-alt: color-mix(in oklab, var(--brand-primary) 40%, var(--brand-accent) 60%);
  --brand-bg: #FFFFFF;
  --brand-fg: var(--brand-accent);
  --brand-muted: color-mix(in oklab, var(--brand-accent) 45%, white 55%);
  --brand-border: var(--brand-accent);
  --brand-surface: var(--brand-primary);
  --brand-primary-muted: color-mix(in oklab, var(--brand-primary) 35%, white 65%);
  --brand-surface-contrast: #FFFFFF;
  --brand-overlay: color-mix(in oklab, var(--brand-primary) 60%, transparent);
  --brand-overlay-muted: color-mix(in oklab, var(--brand-primary) 35%, transparent);

  /* Font variable fallbacks (overridden by next/font classes on <html>) */
  --font-body: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Noto Sans, Ubuntu, Cantarell, Helvetica Neue, Arial, "Apple Color Emoji", "Segoe UI Emoji";
  --font-header: ui-serif, Georgia, Cambria, "Times New Roman", Times, serif;
  --font-button: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Noto Sans, Ubuntu, Cantarell, Helvetica Neue, Arial, "Apple Color Emoji", "Segoe UI Emoji";

  /* Layout and component variables (defaults) */
  --layout-max-width: 90vw;
  --header-height-px: 64px;

  /* Marquee defaults; may be overridden inline per measurement */
  --marquee-duration: 20s;
  --marquee-delay: 0s;
  --marquee-gap: 50px;
  --content-width: 0px;
  --container-width: 0px;
}
