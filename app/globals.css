@import "tailwindcss";

:root {
  color-scheme: light dark;
}

body {
  /* Base typography colors and background driven by tokens */
  background-color: var(--brand-bg);
  color: var(--brand-fg);
  position: relative;
  @apply font-body antialiased transition-colors;
}

h1,
h2,
h3,
h4,
h5,
h6 {
  @apply font-header;
}

button {
  @apply font-button;
}

body::before {
  content: "";
  position: fixed;
  inset: 0;
  background-image: var(--watermark-url);
  background-repeat: no-repeat;
  background-position: center;
  background-size: 50vmin;
  opacity: 0.05;
  pointer-events: none;
  z-index: -1;
}

a {
  @apply underline;
}

/* Header: do not underline links by default; keep hover underline for affordance */
header a {
  @apply no-underline hover:underline;
}

/* Header selection styling: use brand alt color when text is selected */
header ::selection {
  color: var(--brand-alt);
}

img {
  @apply dark:brightness-90 dark:contrast-125;
}



/* Brand color tokens for light and dark modes */
:root {
  /* Light mode defaults */
  --watermark-url: none;
  --brand-primary: #5C30A6; /* purple */
  --brand-primary-contrast: #FFFFFF;
  --brand-accent: #D6AF36; /* gold */
  --brand-alt: #FFFFFF; /* alt is white in all modes */
  --brand-ink: #121212; /* deep ink for overlays */

  /* Set the entire page background to brand purple and ensure strong contrast */
  --brand-bg: #5C30A6; /* brand purple page background */
  --brand-fg: #FFFFFF; /* white text for contrast on purple */
  --brand-muted: var(--brand-accent); /* prefer accent over gray */
  --brand-border: #8C6A15; /* deep gold border for contrast on purple */
  --brand-surface: #4A258E; /* deeper purple surface panels */
  --brand-surface-contrast: #FFFFFF; /* white for headings on surface */
  --brand-overlay: color-mix(in oklab, var(--brand-ink) 50%, transparent);
  --brand-overlay-muted: color-mix(in oklab, var(--brand-ink) 30%, transparent);

  /* Layout and component variables (defaults) */
  --layout-max-width: 90vw;
  --header-height-px: 64px;

  /* Marquee defaults; may be overridden inline per measurement */
  --marquee-duration: 20s;
  --marquee-delay: 0s;
  --marquee-gap: 50px;
  --content-width: 0px;
  --container-width: 0px;
}

@media (prefers-color-scheme: dark) {
  :root {
    /* Dark mode overrides */
    --brand-primary: #B19CD9; /* lighter purple for dark for contrast */
    --brand-bg: color-mix(in oklab, var(--brand-primary) 18%, black);
    --brand-surface: color-mix(in oklab, var(--brand-primary) 26%, black);
    --brand-fg: var(--brand-accent);
    /* Make muted text distinct from main fg in dark mode */
    --brand-muted: color-mix(in oklab, var(--brand-accent) 60%, var(--brand-ink) 40%);
    --brand-border: var(--brand-accent);
    --brand-overlay-muted: color-mix(in oklab, var(--brand-ink) 60%, transparent);
  }
}


/* Fallback for environments mis-parsing :root â€” define tokens on html as well */
html {
  --watermark-url: none;
  --brand-primary: #5C30A6;
  --brand-primary-contrast: #FFFFFF;
  --brand-accent: #D6AF36;
  --brand-alt: #FFFFFF; /* alt is white in all modes */
  --brand-ink: #121212; /* deep ink for overlays */
  --brand-bg: #5C30A6;
  --brand-fg: #FFFFFF; /* white on purple */
  --brand-muted: var(--brand-accent); /* accent for low-contrast text */
  --brand-border: #8C6A15; /* deep gold */
  --brand-surface: #4A258E; /* deeper purple */
  --brand-surface-contrast: #FFFFFF; /* white */
  --brand-overlay: color-mix(in oklab, var(--brand-ink) 50%, transparent);
  --brand-overlay-muted: color-mix(in oklab, var(--brand-ink) 30%, transparent);

  /* Layout and component variables (defaults) */
  --layout-max-width: 90vw;
  --header-height-px: 64px;

  /* Marquee defaults; may be overridden inline per measurement */
  --marquee-duration: 20s;
  --marquee-delay: 0s;
  --marquee-gap: 50px;
  --content-width: 0px;
  --container-width: 0px;
}
